function _inheritsLoose(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"9XGM":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("ciZX");a("Z725");var n=function(t){function e(e,a,i){var n;return(n=t.call(this)||this).modalService=e,n.injector=a,n.confirmationService=i,n.modalText=n.injector.get("modalText"),n.confirmText=n.injector.get("confirmText"," Continue"),n.cancelText=n.injector.get("cancelText"," Cancel"),n.titleText=n.injector.get("titleText","Confirmation"),n.overlayClose=n.injector.get("overlayClose",!0),n.confirmationSubject=a.get("confirmationSubject",!1),n.modalSubText=a.get("modalSubText",!1),n}_inheritsLoose(e,t);var a=e.prototype;return a.ngOnInit=function(){},a.closeModal=function(){this.confirmationSubject?(this.confirmationSubject.next(!1),this.modalService.destroy()):(this.modalService.destroy(),this.confirmationService.setData(!1))},a.continueClick=function(){this.confirmationSubject?(this.confirmationSubject.next(!0),this.modalService.destroy()):(this.confirmationService.setData(!0),this.modalService.destroy())},e}(i.a)},EJfY:function(t,e,a){"use strict";a.d(e,"a",function(){return i});var i=function(){}},MqE1:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a("pQSL");var i=a("IheW"),n=function(){function t(t){this.tqmiHttpService=t,this.apiPath={forms:"api/forms",getFormDetails:"api/form",approveForm:"api/approve-form/",raiseDiscussion:"api/need-discussion",approverFormList:"api/get-pending-approval-forms-list",enableDisableForm:"/api/enable-disable-form",raiseEnableDisableRequest:"api/form-enable-disable-request",enableDisable:"api/enable-disable-form",getEmployeeForms:"api/form-listing-with-dependent-of",formsDataListingIntersection:"api/form-data-listing-with-intersection",getFormDataEntry:"api/get-form-data-by-id",formsDataListingDownloadIntersection:"api/download-form-data-listing-with-intersection",performRecomputations:"api/perform-recomputation",getLatestFormData:"api/get-latest-form-data",addExport:"api/form-list-config",updateExportConfig:"api/form-list-config",getForms:"api/form-list-by-individuals-departments",getExportTableData:"api/form-list-given-config",exportToExcel:"api/download-form-list-given-config",downloadFormTemplate:"api/download-form-template",masterformdata:"api/master-data-map",masterdataforform:"api/get-master-data-for-form",masterdataDuplicacyCheck:"api/find-existing-master-data-by-name",getDropdownDataforColumns:"api/get-form-field-unique-values",formFilters:"api/form-filter",applyFilter:"api/apply-filter"}}var e=t.prototype;return e.getForms=function(t,e,a,n,r){var o=(new i.h).set("formDataSource","INTERNAL").set("sortBy",r||"createdDate").set("sort",n||"desc").set("startFrom",e.toString()).set("limit",a.toString());return t&&t.trim().length&&(o=o.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:o})},e.getFormListing=function(t,e,a,n){var r=(new i.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",e.toString()).set("isApproved",n.toString()).set("limit",a.toString());return t&&t.trim().length&&(r=r.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:r})},e.getApproverFormListing=function(t,e,a){var n=(new i.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",e.toString()).set("limit",a.toString());return t&&t.trim().length&&(n=n.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.approverFormList,{apiType:"forms",params:n})},e.getFormDetail=function(t){return this.tqmiHttpService.get(this.apiPath.getFormDetails+"/"+t,{apiType:"forms"})},e.addForms=function(t){return this.tqmiHttpService.post(this.apiPath.forms,t,{apiType:"forms"})},e.updateForms=function(t){return this.tqmiHttpService.patch(this.apiPath.forms,t,{apiType:"forms"})},e.approveForm=function(t){return this.tqmiHttpService.post(this.apiPath.approveForm+t,{},{apiType:"forms"})},e.raiseDiscussionForm=function(t){return this.tqmiHttpService.post(this.apiPath.raiseDiscussion,t,{apiType:"forms"})},e.raiseEnableDisableRequest=function(t,e){return this.tqmiHttpService.post(this.apiPath.raiseEnableDisableRequest+"/"+t,{action:e?"ENABLE":"DISABLE"},{apiType:"forms"})},e.enableDisable=function(t,e){return this.tqmiHttpService.post(this.apiPath.enableDisable+"/"+t,{action:e?"ENABLE":"DISABLE"},{apiType:"forms"})},e.getEmployeeForm=function(t,e){var a=(new i.h).set("formId",e);return this.tqmiHttpService.get(this.apiPath.getEmployeeForms+"/"+t,{apiType:"forms",params:a})},e.getEmployeeFormDetails=function(t,e,a,n,r,o,s,l){var p=(new i.h).set("limit",a.toString()).set("formId1",n).set("skip",o);return s&&(p=p.set("sortOnKey",s).set("sort",l)),""!=r&&(p=p.set("formId2",r)),t&&t.trim().length&&(p=p.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.formsDataListingIntersection,{apiType:"forms",params:p})},e.downloadFormData=function(t,e,a,n,r,o){var s=(new i.h).set("formId1",a);return s=s.set("employeeId",o),""!=n&&(s=s.set("formId2",n)),e&&(s=s.set("limit",e.toString())),r&&(s=s.set("skip",r)),t&&t.trim().length&&(s=s.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.formsDataListingDownloadIntersection,{apiType:"forms",params:s})},e.performRecomputations=function(t){return this.tqmiHttpService.get(this.apiPath.performRecomputations+"/"+t,{apiType:"forms"})},e.getFormDataById=function(t){return this.tqmiHttpService.get(this.apiPath.getFormDataEntry+"/"+t,{apiType:"forms"})},e.getLatestFormData=function(t,e){return this.tqmiHttpService.get(this.apiPath.getLatestFormData+"?formId="+t+"&fieldId="+e,{apiType:"forms"})},e.getFormsExportTabs=function(){return this.tqmiHttpService.get(this.apiPath.addExport,{apiType:"forms"})},e.addFormsExport=function(t){return this.tqmiHttpService.post(this.apiPath.addExport,t,{apiType:"forms"})},e.getExportFormDetails=function(t,e,a,n){var r=new i.h;return e&&(r=r.set("employeeIdList",e)),n.length&&(r=r.set("groupIdList",n)),a.length&&(r=r.set("departmentIdList",a)),t&&t.trim().length&&(r=r.set("searchparam",t)),this.tqmiHttpService.get(this.apiPath.getForms,{apiType:"forms",params:r})},e.updateExportForms=function(t){return this.tqmiHttpService.patch(this.apiPath.addExport,t,{apiType:"forms"})},e.getFormDetailExport=function(t){return this.tqmiHttpService.get(this.apiPath.addExport+"/"+t,{apiType:"forms"})},e.getFormExportTableData=function(t,e,a,n){var r=(new i.h).set("limit",a.toString()).set("skip",n);return t&&(r=r.set("searchparam",t)),this.tqmiHttpService.get(this.apiPath.getExportTableData+"/"+e,{apiType:"forms",params:r})},e.getFormExportUrl=function(t){return this.tqmiHttpService.get(this.apiPath.exportToExcel+"/"+t,{apiType:"forms"})},e.getSAPForms=function(t,e,a,n,r){var o=(new i.h).set("formDataSource","SAP").set("sortBy",r||"createdDate").set("sort",n||"desc").set("startFrom",e.toString()).set("limit",a.toString());return t&&t.trim().length&&(o=o.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:o})},e.getRDBMSForms=function(t,e,a){var n=(new i.h).set("formDataSource","EXTERNAL_DATABASE").set("sortBy","createdDate").set("sort","desc").set("startFrom",e.toString()).set("limit",a.toString());return t&&t.trim().length&&(n=n.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:n})},e.getAllForms=function(t,e,a){var n=(new i.h).set("sortBy","createdDate").set("sort","desc").set("startFrom",e.toString()).set("limit",a.toString());return t&&t.trim().length&&(n=n.set("searchQuery",t)),this.tqmiHttpService.get(this.apiPath.forms,{apiType:"forms",params:n})},e.deleteExportTab=function(t){return this.tqmiHttpService.delete(this.apiPath.updateExportConfig+"/"+t,{apiType:"forms"})},e.downloadFormTemplate=function(t){return this.tqmiHttpService.get(this.apiPath.downloadFormTemplate+"/"+t,{apiType:"forms"})},e.getFormMasterData=function(t,e,a){var n=(new i.h).set("limit",e.toString()).set("formId1",t).set("skip",a);return this.tqmiHttpService.get(this.apiPath.formsDataListingIntersection,{apiType:"forms",params:n})},e.setFormMasterData=function(t){return this.tqmiHttpService.post(this.apiPath.masterformdata,t,{apiType:"forms"})},e.getMasterDataSpecified=function(t){return this.tqmiHttpService.get(this.apiPath.masterdataforform+"/"+t,{apiType:"forms"})},e.deleteMasterData=function(t){return this.tqmiHttpService.delete(this.apiPath.masterformdata+"/"+t,{apiType:"forms"})},e.editMasterData=function(t){return this.tqmiHttpService.post(this.apiPath.masterdataDuplicacyCheck,t,{apiType:"forms"})},e.updateMasterDataSpecified=function(t,e){return this.tqmiHttpService.patch(this.apiPath.masterformdata+"/"+e,t,{apiType:"forms"})},e.getFormDropdownValues=function(t,e,a){var n=(new i.h).set("formId",t).set("fieldId",e).set("fieldType",a);return this.tqmiHttpService.get(this.apiPath.getDropdownDataforColumns,{apiType:"forms",params:n})},e.getFormFilterRecord=function(t){return this.tqmiHttpService.get(this.apiPath.formFilters+"/"+t,{apiType:"forms"})},e.saveFormFilters=function(t,e){return this.tqmiHttpService.post(this.apiPath.formFilters,t,{apiType:"forms"})},e.updateFormFilters=function(t,e){return this.tqmiHttpService.patch(this.apiPath.formFilters+"/"+e,t,{apiType:"forms"})},e.getFormFilterList=function(t,e,a){var n=new i.h;return t&&(n=n.set("formId",t)),e&&""!=e&&(n=n.set("searchQuery",e)),a&&(n=n.set("formDataSource",(a="external"===a?"sap":a).toUpperCase())),this.tqmiHttpService.get(this.apiPath.formFilters,{apiType:"forms",params:n})},e.deleteFormFilter=function(t){return this.tqmiHttpService.delete(this.apiPath.formFilters+"/"+t,{apiType:"forms"})},e.getFilteredFormData=function(t,e,a,n){var r=new i.h;return n>=0&&a>=0&&(r=r.set("limit",n.toString()).set("skip",a.toString())),this.tqmiHttpService.post(this.apiPath.applyFilter,{formId:t,filter:e},{apiType:"forms",params:r})},e.getFilterDetails=function(t){return this.tqmiHttpService.get(this.apiPath.formFilters+"/"+t,{apiType:"forms"})},t}()},XvC9:function(t,e,a){"use strict";var i=a("8Y7J"),n=a("+NSx"),r=a("nw/W"),o=a("SVse"),s=a("s7LF");a("kqF4"),a.d(e,"a",function(){return l}),a.d(e,"b",function(){return d});var l=i["\u0275crt"]({encapsulation:0,styles:[[".my-custom-combo[_ngcontent-%COMP%]{max-height:180px;height:auto}"]],data:{}});function p(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","bx--list-box__menu-icon"],["ibmIconChevronDown16",""]],null,null,null,null,null)),i["\u0275did"](1,4210688,null,0,n.b,[i.ElementRef],null,null)],null,null)}function u(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,":svg:svg",[["class","bx--list-box__menu-icon"],["ibmIconChevronUp16",""]],null,null,null,null,null)),i["\u0275did"](1,4210688,null,0,r.a,[i.ElementRef],null,null)],null,null)}function m(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"li",[["class","bx--list-box__menu-item"],["ng-reflect-klass","bx--list-box__menu-item"],["ng-reflect-ng-class","[object Object]"],["role","option"]],null,[[null,"click"]],function(t,e,a){var i=!0;return"click"===e&&(i=!1!==t.component.onSelectItem(a,t.context.$implicit)&&i),i},null,null)),(t()(),i["\u0275eld"](1,0,null,null,1,"div",[["class","bx--list-box__menu-item__option"],["tabindex","-1"]],null,null,null,null,null)),(t()(),i["\u0275ted"](2,null,[" "," "]))],null,function(t,e){t(e,2,0,e.context.$implicit.content)})}function c(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,2,"ul",[["aria-label","Listbox"],["class","bx--list-box__menu bx--multi-select my-custom-combo"],["role","listbox"]],null,null,null,null,null)),(t()(),i["\u0275and"](16777216,null,null,1,null,m)),i["\u0275did"](2,278528,null,0,o.NgForOf,[i.ViewContainerRef,i.TemplateRef,i.IterableDiffers],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,2,0,e.component.items)},null)}function d(t){return i["\u0275vid"](0,[i["\u0275qud"](402653184,1,{input:0}),(t()(),i["\u0275eld"](1,0,null,null,13,"div",[["class","bx--combo-box bx--list-box"],["style","margin-top: 8px;"]],null,[[null,"click"]],function(t,e,a){var i=!0,n=t.component;return"click"===e&&(i=!1!==(!n.isDisable&&n.toggleDropdown())&&i),i},null,null)),(t()(),i["\u0275eld"](2,0,null,null,10,"div",[["aria-expanded","true"],["aria-haspopup","true"],["aria-label","close menu"],["class","bx--list-box__field"],["role","button"],["tabindex","0"],["type","button"]],null,null,null,null,null)),(t()(),i["\u0275eld"](3,0,[[1,0],["input",1]],null,5,"input",[["aria-label","ListBox input field"],["autocomplete","off"],["class","bx--text-input"],["id","dropdown-1"],["role","combobox"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,a){var n=!0,r=t.component;return"input"===e&&(n=!1!==i["\u0275nov"](t,4)._handleInput(a.target.value)&&n),"blur"===e&&(n=!1!==i["\u0275nov"](t,4).onTouched()&&n),"compositionstart"===e&&(n=!1!==i["\u0275nov"](t,4)._compositionStart()&&n),"compositionend"===e&&(n=!1!==i["\u0275nov"](t,4)._compositionEnd(a.target.value)&&n),"ngModelChange"===e&&(n=!1!==r.searchModelChanged.next(a)&&n),n},null,null)),i["\u0275did"](4,16384,null,0,s.c,[i.Renderer2,i.ElementRef,[2,s.a]],null,null),i["\u0275prd"](1024,null,s.p,function(t){return[t]},[s.c]),i["\u0275did"](6,671744,null,0,s.u,[[8,null],[8,null],[8,null],[6,s.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),i["\u0275prd"](2048,null,s.q,null,[s.u]),i["\u0275did"](8,16384,null,0,s.r,[[4,s.q]],null,null),(t()(),i["\u0275and"](16777216,null,null,1,null,p)),i["\u0275did"](10,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,u)),i["\u0275did"](12,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275and"](16777216,null,null,1,null,c)),i["\u0275did"](14,16384,null,0,o.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var a=e.component;t(e,6,0,a.isDisable,a.searchQuery),t(e,10,0,!a.open),t(e,12,0,a.open),t(e,14,0,a.open)},function(t,e){t(e,3,0,e.component.placeholder,i["\u0275nov"](e,8).ngClassUntouched,i["\u0275nov"](e,8).ngClassTouched,i["\u0275nov"](e,8).ngClassPristine,i["\u0275nov"](e,8).ngClassDirty,i["\u0275nov"](e,8).ngClassValid,i["\u0275nov"](e,8).ngClassInvalid,i["\u0275nov"](e,8).ngClassPending)})}},Z725:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("2Vo4"),n=function(){function t(){this.confirmState=new i.a(!1)}var e=t.prototype;return e.setData=function(t){this.confirmState.next(t)},e.getData=function(){return this.confirmState.asObservable()},t}()},fF59:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"b",function(){return s});var i=a("8Y7J"),n=a("O9pe"),r=function(){function t(){this.focusable=!1}return t.decorators=[{type:i.Component,args:[{selector:"ibm-icon-add20",template:'\n    <svg\n      ibmIconAdd20\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],t.propDecorators={ariaLabel:[{type:i.Input}],ariaLabelledby:[{type:i.Input}],ariaHidden:[{type:i.Input}],title:[{type:i.Input}],focusable:[{type:i.Input}],innerClass:[{type:i.Input}]},t}(),o=function(){function t(t){this.elementRef=t,this.isFocusable=!1}return t.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement;e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var a=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 32 32" aria-hidden="true"><path d="M17 15V7h-2v8H7v2h8v8h2v-8h8v-2h-8z"></path></svg>',"image/svg+xml").documentElement.firstChild;a;)e.appendChild(e.ownerDocument.importNode(a,!0)),a=a.nextSibling;for(var i=Object(n.a)({width:20,height:20,viewBox:"0 0 32 32",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],l=i[s];"title"!==s&&l&&e.setAttribute(s,l)}if(i.title){var p=document.createElement("title");p.textContent=i.title,p.setAttribute("id","add20-"+ ++t.titleIdCounter),e.appendChild(p),e.setAttribute("aria-labelledby","add20-"+t.titleIdCounter)}},t.titleIdCounter=0,t.decorators=[{type:i.Directive,args:[{selector:"[ibmIconAdd20]"}]}],t.ctorParameters=function(){return[{type:i.ElementRef}]},t.propDecorators={ariaLabel:[{type:i.Input}],ariaLabelledby:[{type:i.Input}],ariaHidden:[{type:i.Input}],title:[{type:i.Input}],isFocusable:[{type:i.Input}]},t}(),s=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[r,o],exports:[r,o]}]}],t}()},kqF4:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var i=a("8Y7J"),n=a("ds6q"),r=a("Kj3r"),o=function(){function t(t){this.elementRef=t,this.open=!1,this.searchModelChanged=new n.Subject,this.isDisable=!1,this.onSearch=new i.EventEmitter,this.onSelect=new i.EventEmitter,this.onOpen=new i.EventEmitter,this.placeholder="Search user",this.itemSlected=!1}var e=t.prototype;return e.ngOnInit=function(){var t=this;this.searchModelChangeSubscription=this.searchModelChanged.pipe(Object(r.a)(600)).subscribe(function(e){t.onSearch.emit(e),t.open=!0})},e.ngAfterViewInit=function(){var t=this;document.addEventListener("click",function(e){t.elementRef.nativeElement.contains(e.target)||t.open&&t.closeDropdown()})},e.closeDropdown=function(){this.open=!1},e.openDropdown=function(){this.onOpen.emit(),this.open=!0},e.toggleDropdown=function(){this.itemSlected?this.itemSlected=!1:this.open?this.closeDropdown():this.openDropdown()},e.ngOnDestroy=function(){this.searchModelChangeSubscription.unsubscribe()},e.onSelectItem=function(t,e){this.itemSlected=!0,t.stopPropagation(),t.stopImmediatePropagation(),this.closeDropdown(),this.isDependent||(this.searchQuery=e.content),this.onSelect.emit(e)},e.ngOnChanges=function(t){t.searchQuery&&t.searchQuery.currentValue!==t.searchQuery.previousValue&&(this.searchQuery=t.searchQuery.currentValue)},t}()},moEF:function(t,e,a){"use strict";a.r(e);var i=a("8Y7J"),n=function(){},r=a("pMnS"),o=a("1Txd"),s=a("yFBK"),l=a("MqE1"),p=a("s7LF"),u=a("PJ54"),m=a("Z3BZ"),c=a("EApP"),d=a("M+tS"),f=a("3yNS"),h=a("IcCv"),g=a("A+V5"),b=a("SVse"),v=a("K/Md"),S=a("7seC"),y=a("iInd"),F=a("hUUB"),D=a("s6ns"),I=a("u1gT"),x=a("TfA5"),E=a("Z725"),w=a("mrSG"),T=a("qHnB"),C=a("HTWL"),L=a("wd/R"),A=function(){function t(t,e,a,i,n,r){this.activatedRoute=t,this._router=e,this.formService=a,this.settingsService=i,this.formDataService=n,this.toasterService=r,this.formSchema=[],this.isFormFill=!0}var e=t.prototype;return e.ngOnInit=function(){var t=this;this.logInEmployeeId=localStorage.getItem("E_Id"),this.activatedRoute.params.subscribe(function(e){t.currentid=e.id,t.dataEntryId=e.id1,t.currentid&&(t.loading=!0,t.formSchema=[],t.formService.getFormDetail(t.currentid).subscribe(function(e){e&&e.success?(t.logInEmployeeId===e.response.form.approverId&&(t.isApproverFilling=!0),t.formName=e.response.form.formName,t.formSchema=e.response.form.formElements,t.formId=e.response.form.formId,t.dataEntryId&&t.formService.getFormDataById(t.dataEntryId).subscribe(function(e){e&&e.response&&e.success&&(t.formDataValue=e.response.data,t.dataCaptureDate=e.response.dataCaptureDate)},function(e){t.formDataValue=[]})):(t.toasterService.error(C.a.PLEASE_TRY_AGAIN),t._router.navigate(["/forms"])),t.loading=!1},function(e){t.loading=!1,403===e.status?(t.toasterService.error(e.error.message),t._router.navigate(["/forms"])):t.toasterService.error(C.a.PLEASE_TRY_AGAIN)}))})},e.getFillPermissions=function(t){return t.fill},e.onFormSubmit=function(t){return Object(w.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var a,i,n,r,o,s,l,p,u,m,c,d,f,h,g,b,v,S,y=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.linkedData,n=t.fillAgain,r=(t=t.value).datePickerForForm){e.next=3;break}return e.abrupt("return",void this.toasterService.error(C.a.PLEASE_SELECT_DATE));case 3:if(a=L(r).format("YYYY-MM-DDTHH:mm:00"),o=[],e.prev=5,!this.formSchema.length){e.next=22;break}s=this.formSchema,l=Array.isArray(s),p=0,s=l?s:s[Symbol.iterator]();case 8:if(!l){e.next=14;break}if(!(p>=s.length)){e.next=11;break}return e.abrupt("break",22);case 11:u=s[p++],e.next=18;break;case 14:if(!(p=s.next()).done){e.next=17;break}return e.abrupt("break",22);case 17:u=p.value;case 18:"heading"!==(m=u).field&&"paragraph"!==m.field&&"section_break"!==m.field&&"submit_btn"!==m.field&&o.push({label:m.label,uuid:m.uuid,isMetricField:m.metricEnabled,unitOfMeasurement:m.metricEnabled?m.unitOfMeasurement:void 0,field:m.field});case 20:e.next=8;break;case 22:c=Object.keys(t),d=0;case 24:if(!(d<o.length)){e.next=39;break}if(f=void 0,h=void 0,o[d].isMetricField&&(f=a,h=a),g=t[c[d]],"time"===o[d].field&&(g=L(g).format("hh:mm A")),o[d]={label:o[d].label,key:c[d],value:g,uuid:o[d].uuid,isMetricField:o[d].isMetricField,unitOfMeasurement:o[d].unitOfMeasurement,dataCaptureStart:f||void 0,dataCaptureEnd:h||void 0},!(o[d].value&&o[d].value instanceof File)){e.next=35;break}return e.next=31,this.uploadFile(t[c[d]],this.currentid);case 31:if((b=e.sent)&&b.success){e.next=34;break}throw"Error occurred while uploading file";case 34:o[d].value=b.response.fileURL;case 35:delete t[c[d]];case 36:d++,e.next=24;break;case 39:e.next=44;break;case 41:e.prev=41,e.t0=e.catch(5),o=[];case 44:v=i,this.dataEntryId?this.formDataService.editFormData({formSubmissionUuid:this.dataEntryId,data:o,dataCaptureDate:a}).subscribe(function(t){t&&t.success&&(n?(y.toasterService.success(C.a.FORM_DATA_UPDATED_SUCCESS),window.location.reload()):(y.toasterService.success(C.a.FORM_DATA_UPDATED_SUCCESS),y._router.navigateByUrl("/forms/linked-data-listing")))},function(t){y.toasterService.error(400===t.status?C.a.FORM_DATA_REQUEST_INVALID:403===t.status||405===t.status||205===t.status?t.error.message:C.a.PLEASE_TRY_AGAIN)}):(S={formId:this.formId,data:o,dataCaptureDate:a},v&&(S.linkedFormId=v.linkedFormId,S.linkedFormSubmissionId=v.linkedFormSubmissionId),this.formDataService.addFormData(S).subscribe(function(t){t&&t.success&&(n?(y.toasterService.success(C.a.FORM_DATA_SAVED_SUCCESS),window.location.reload()):(y.toasterService.success(C.a.FORM_DATA_SAVED_SUCCESS),y._router.navigateByUrl("/forms/linked-data-listing")))},function(t){y.toasterService.error(400===t.status?C.a.FORM_DATA_REQUEST_INVALID:403===t.status||205===t.status?t.error.message:C.a.PLEASE_TRY_AGAIN)}));case 46:case"end":return e.stop()}},e,this,[[5,41]])}))},e.getIndex=function(t,e){return t.findIndex(function(t){return t.key===e})},e.uploadFile=function(t,e){return Object(w.__awaiter)(this,void 0,void 0,regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.settingsService.uploadFile({file:t,parentId:e}).toPromise());case 1:case"end":return a.stop()}},a,this)}))},t}(),P=i["\u0275crt"]({encapsulation:0,styles:[[".form-fill-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:3rem}.form-name-cls[_ngcontent-%COMP%]{margin-top:16px;padding-left:16px;padding-bottom:16px;font-size:18px;font-weight:500}.forms-listing-container[_ngcontent-%COMP%]{padding-right:32px!important;background-color:#fff!important}"]],data:{}});function _(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-form-renderer",[],null,[[null,"formSchemaChange"],[null,"onSubmit"]],function(t,e,a){var i=!0,n=t.component;return"formSchemaChange"===e&&(i=!1!==(n.formSchema=a)&&i),"onSubmit"===e&&(i=!1!==n.onFormSubmit(a)&&i),i},o.c,o.b)),i["\u0275did"](1,114688,null,0,s.a,[l.a,p.f,u.a,m.a,c.j],{formSchema:[0,"formSchema"],isFormFill:[1,"isFormFill"],formDataValue:[2,"formDataValue"],isApproverFilling:[3,"isApproverFilling"],dataCaptureDate:[4,"dataCaptureDate"]},{onSubmit:"onSubmit"})],function(t,e){var a=e.component;t(e,1,0,a.formSchema,a.isFormFill,a.formDataValue,a.isApproverFilling,a.dataCaptureDate)},null)}function R(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,14,"div",[["class","form-fill-container"]],null,null,null,null,null)),(t()(),i["\u0275eld"](1,0,null,null,13,"ibm-tabs",[],null,null,null,d.b,d.a)),i["\u0275did"](2,1097728,null,2,f.a,[],null,null),i["\u0275qud"](603979776,1,{tabs:1}),i["\u0275qud"](335544320,2,{tabHeaders:0}),(t()(),i["\u0275eld"](5,0,null,0,5,"ibm-tab",[["heading","Form"]],[[1,"id",0]],null,null,h.b,h.a)),i["\u0275did"](6,114688,[[1,4]],0,g.a,[],{heading:[0,"heading"]},null),(t()(),i["\u0275eld"](7,0,null,0,1,"div",[["class","form-name-cls"]],null,null,null,null,null)),(t()(),i["\u0275ted"](8,null,["",""])),(t()(),i["\u0275and"](16777216,null,0,1,null,_)),i["\u0275did"](10,16384,null,0,b.NgIf,[i.ViewContainerRef,i.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),i["\u0275eld"](11,0,null,0,3,"ibm-tab",[["heading","Past Data"]],[[1,"id",0]],null,null,h.b,h.a)),i["\u0275did"](12,114688,[[1,4]],0,g.a,[],{heading:[0,"heading"]},null),(t()(),i["\u0275eld"](13,0,null,0,1,"app-linked-form-data-listing",[],null,null,null,v.c,v.b)),i["\u0275did"](14,114688,null,0,S.a,[y.l,l.a,y.a,F.a,c.j,D.e,I.a,x.a,E.a,u.a],{isFromFill:[0,"isFromFill"]},null)],function(t,e){var a=e.component;t(e,6,0,"Form"),t(e,10,0,a.formSchema&&a.formSchema.length&&(!a.dataEntryId||a.formDataValue&&a.formDataValue.length)&&!a.loading),t(e,12,0,"Past Data"),t(e,14,0,"true")},function(t,e){var a=e.component;t(e,5,0,i["\u0275nov"](e,6).attrClass),t(e,8,0,a.formName),t(e,11,0,i["\u0275nov"](e,12).attrClass)})}var q=i["\u0275ccf"]("app-form-fill",A,function(t){return i["\u0275vid"](0,[(t()(),i["\u0275eld"](0,0,null,null,1,"app-form-fill",[],null,null,null,R,P)),i["\u0275did"](1,114688,null,0,A,[y.a,y.l,l.a,T.a,F.a,c.j],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),H=a("No7X"),M=a("bIR2"),k=a("NpSD"),O=a("cbbC"),j=a("Gv0t"),N=a("cN2v"),V=a("gKtx"),U=a("GRwY"),B=a("P08G"),Q=a("quVZ"),Y=a("t7MO"),G=a("I0pH"),K=a("sstc"),X=a("t68o"),J=a("lQmW"),Z=a("/5xB"),z=a("zTFV"),W=a("+GeB"),$=a("jcvr"),tt=a("mEpm"),et=a("ZHEK"),at=a("RJDq"),it=a("U6oK"),nt=a("i3NF"),rt=a("QQfA"),ot=a("IP0z"),st=a("POq0"),lt=a("Tq4R"),pt=a("rAFq"),ut=a("4D9t"),mt=a("bMPK"),ct=a("UiI2"),dt=a("/HVE"),ft=a("uvqg"),ht=a("f8KH"),gt=a("maoM"),bt=a("pQSL"),vt=a("PsxR"),St=a("X/pD"),yt=a("XX5M"),Ft=function(){},Dt=a("nU9L"),It=a("+IpF"),xt=a("jQIA"),Et=a("+NSx"),wt=a("jPU2"),Tt=a("h6sn"),Ct=a("nXcq"),Lt=a("eUdb"),At=a("SpJC"),Pt=a("IxoR"),_t=a("P5T4"),Rt=a("H+bR"),qt=a("nhzO"),Ht=a("cbyg"),Mt=a("niTG"),kt=a("XBWk"),Ot=a("4UMp"),jt=a("5F/F"),Nt=a("3ezH"),Vt=a("zMNK"),Ut=a("hOhj"),Bt=a("5GAg"),Qt=a("jRYl"),Yt=a("KL2N"),Gt=a("QX+E"),Kt=a("Lb5T"),Xt=a("FS8H"),Jt=a("ctAq"),Zt=a("kEMu"),zt=a("vjI9"),Wt=a("yKc8"),$t=a("ezSh"),te=a("pVHs"),ee=a("ixoK"),ae=a("LuTi"),ie=a("h5jA"),ne=a("9Ntg"),re=a("wqUn"),oe=a("HSTZ"),se=a("OZcg"),le=a("nw/W"),pe=a("EJfY"),ue=a("Tl03"),me=a("+5LG"),ce=a("HyvF"),de=a("fF59"),fe=a("GMRT"),he=a("UDqP"),ge=a("bzBv"),be=a("+Inj"),ve=a("CX5l"),Se=a("aI0y"),ye=a("kdZC"),Fe=a("XdKZ"),De=a("4vLU"),Ie=a("Xd0L"),xe=a("cUpR"),Ee=a("Fwaw"),we=a("Gi4r"),Te=a("/m4c"),Ce=a("0L0y"),Le=a("Jbdn"),Ae=a("L5ej"),Pe=a("6TIQ"),_e=a("+nmx"),Re=a("EFU/");a.d(e,"FormFillModuleNgFactory",function(){return qe});var qe=i["\u0275cmf"](n,[],function(t){return i["\u0275mod"]([i["\u0275mpd"](512,i.ComponentFactoryResolver,i["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,q,o.a,H.a,M.a,k.a,O.a,j.a,N.a,V.a,U.a,B.a,Q.a,v.a,Y.a,G.a,K.a,X.a,J.a,Z.a,z.a,W.a,$.a]],[3,i.ComponentFactoryResolver],i.NgModuleRef]),i["\u0275mpd"](4608,b.NgLocalization,b.NgLocaleLocalization,[i.LOCALE_ID,[2,b["\u0275angular_packages_common_common_a"]]]),i["\u0275mpd"](4608,p.C,p.C,[]),i["\u0275mpd"](4608,p.f,p.f,[]),i["\u0275mpd"](5120,tt.a,et.a,[[3,tt.a]]),i["\u0275mpd"](5120,at.a,it.a,[[3,at.a]]),i["\u0275mpd"](4608,nt.a,nt.a,[at.a]),i["\u0275mpd"](4608,rt.b,rt.b,[rt.h,rt.d,i.ComponentFactoryResolver,rt.g,rt.e,i.Injector,i.NgZone,b.DOCUMENT,ot.b,[2,b.Location]]),i["\u0275mpd"](5120,rt.i,rt.j,[rt.b]),i["\u0275mpd"](4608,st.a,st.a,[]),i["\u0275mpd"](5120,lt.b,lt.d,[rt.b]),i["\u0275mpd"](4608,lt.e,lt.e,[rt.b,i.Injector,[2,b.Location],lt.b,[2,lt.a],[3,lt.e],rt.d]),i["\u0275mpd"](4608,pt.a,pt.a,[]),i["\u0275mpd"](5120,ut.a,ut.c,[rt.b]),i["\u0275mpd"](4608,mt.a,ct.a,[[2,mt.b],dt.a]),i["\u0275mpd"](5120,ft.a,ht.a,[[3,ft.a]]),i["\u0275mpd"](4608,u.a,u.a,[i.ComponentFactoryResolver,at.a]),i["\u0275mpd"](4608,gt.a,gt.a,[i.ComponentFactoryResolver,i.Injector,at.a]),i["\u0275mpd"](4608,m.a,m.a,[bt.a]),i["\u0275mpd"](4608,vt.a,vt.a,[bt.a]),i["\u0275mpd"](4608,St.a,St.a,[bt.a]),i["\u0275mpd"](4608,yt.a,yt.a,[bt.a]),i["\u0275mpd"](4608,T.a,T.a,[bt.a]),i["\u0275mpd"](4608,E.a,E.a,[]),i["\u0275mpd"](5120,D.c,D.d,[rt.b]),i["\u0275mpd"](135680,D.e,D.e,[rt.b,i.Injector,[2,b.Location],[2,D.b],D.c,[3,D.e],rt.d]),i["\u0275mpd"](4608,l.a,l.a,[bt.a]),i["\u0275mpd"](4608,F.a,F.a,[bt.a]),i["\u0275mpd"](4608,I.a,I.a,[bt.a]),i["\u0275mpd"](1073742336,b.CommonModule,b.CommonModule,[]),i["\u0275mpd"](1073742336,y.p,y.p,[[2,y.u],[2,y.l]]),i["\u0275mpd"](1073742336,Ft,Ft,[]),i["\u0275mpd"](1073742336,Dt.a,Dt.a,[]),i["\u0275mpd"](1073742336,p.B,p.B,[]),i["\u0275mpd"](1073742336,p.l,p.l,[]),i["\u0275mpd"](1073742336,p.x,p.x,[]),i["\u0275mpd"](1073742336,It.c,It.c,[]),i["\u0275mpd"](1073742336,xt.a,xt.a,[]),i["\u0275mpd"](1073742336,et.c,et.c,[]),i["\u0275mpd"](1073742336,it.b,it.b,[]),i["\u0275mpd"](1073742336,Et.c,Et.c,[]),i["\u0275mpd"](1073742336,wt.a,wt.a,[]),i["\u0275mpd"](1073742336,Tt.a,Tt.a,[]),i["\u0275mpd"](1073742336,Ct.a,Ct.a,[]),i["\u0275mpd"](1073742336,Lt.c,Lt.c,[]),i["\u0275mpd"](1073742336,At.a,At.a,[]),i["\u0275mpd"](1073742336,Pt.a,Pt.a,[]),i["\u0275mpd"](1073742336,_t.a,_t.a,[]),i["\u0275mpd"](1073742336,Rt.a,Rt.a,[]),i["\u0275mpd"](1073742336,qt.a,qt.a,[]),i["\u0275mpd"](1073742336,Ht.a,Ht.a,[]),i["\u0275mpd"](1073742336,Mt.c,Mt.c,[]),i["\u0275mpd"](1073742336,kt.c,kt.c,[]),i["\u0275mpd"](1073742336,Ot.a,Ot.a,[]),i["\u0275mpd"](1073742336,jt.a,jt.a,[]),i["\u0275mpd"](1073742336,Nt.a,Nt.a,[]),i["\u0275mpd"](1073742336,ot.a,ot.a,[]),i["\u0275mpd"](1073742336,Vt.f,Vt.f,[]),i["\u0275mpd"](1073742336,dt.b,dt.b,[]),i["\u0275mpd"](1073742336,Ut.b,Ut.b,[]),i["\u0275mpd"](1073742336,rt.f,rt.f,[]),i["\u0275mpd"](1073742336,st.b,st.b,[]),i["\u0275mpd"](1073742336,Bt.a,Bt.a,[]),i["\u0275mpd"](1073742336,Qt.a,Qt.a,[]),i["\u0275mpd"](1073742336,Yt.a,Yt.a,[]),i["\u0275mpd"](1073742336,Gt.a,Gt.a,[]),i["\u0275mpd"](1073742336,Gt.b,Gt.b,[]),i["\u0275mpd"](1073742336,Kt.b,Kt.b,[]),i["\u0275mpd"](1073742336,Xt.b,Xt.b,[]),i["\u0275mpd"](1073742336,ht.b,ht.b,[]),i["\u0275mpd"](1073742336,Jt.b,Jt.b,[]),i["\u0275mpd"](1073742336,Zt.a,Zt.a,[]),i["\u0275mpd"](1073742336,zt.b,zt.b,[]),i["\u0275mpd"](1073742336,Wt.a,Wt.a,[]),i["\u0275mpd"](1073742336,$t.a,$t.a,[]),i["\u0275mpd"](1073742336,te.a,te.a,[]),i["\u0275mpd"](1073742336,ee.c,ee.c,[]),i["\u0275mpd"](1073742336,ae.d,ae.d,[]),i["\u0275mpd"](1073742336,ie.c,ie.c,[]),i["\u0275mpd"](1073742336,ne.c,ne.c,[]),i["\u0275mpd"](1073742336,re.b,re.b,[]),i["\u0275mpd"](1073742336,oe.a,oe.a,[]),i["\u0275mpd"](1073742336,se.a,se.a,[]),i["\u0275mpd"](1073742336,le.b,le.b,[]),i["\u0275mpd"](1073742336,pe.a,pe.a,[]),i["\u0275mpd"](1073742336,ue.a,ue.a,[]),i["\u0275mpd"](1073742336,me.a,me.a,[]),i["\u0275mpd"](1073742336,ce.a,ce.a,[]),i["\u0275mpd"](1073742336,de.b,de.b,[]),i["\u0275mpd"](1073742336,fe.b,fe.b,[]),i["\u0275mpd"](1073742336,he.b,he.b,[]),i["\u0275mpd"](1073742336,ge.b,ge.b,[]),i["\u0275mpd"](1073742336,be.a,be.a,[]),i["\u0275mpd"](1073742336,ve.a,ve.a,[]),i["\u0275mpd"](1073742336,Se.a,Se.a,[]),i["\u0275mpd"](1073742336,ye.b,ye.b,[]),i["\u0275mpd"](1073742336,Fe.b,Fe.b,[]),i["\u0275mpd"](1073742336,De.b,De.b,[]),i["\u0275mpd"](1073742336,Ie.e,Ie.e,[[2,Ie.b],[2,xe.f]]),i["\u0275mpd"](1073742336,D.k,D.k,[]),i["\u0275mpd"](1073742336,Ie.g,Ie.g,[]),i["\u0275mpd"](1073742336,Ee.c,Ee.c,[]),i["\u0275mpd"](1073742336,we.a,we.a,[]),i["\u0275mpd"](1073742336,Te.a,Te.a,[]),i["\u0275mpd"](1073742336,Ce.a,Ce.a,[]),i["\u0275mpd"](1073742336,Le.a,Le.a,[]),i["\u0275mpd"](1073742336,Ae.a,Ae.a,[]),i["\u0275mpd"](1073742336,Pe.a,Pe.a,[]),i["\u0275mpd"](1073742336,_e.a,_e.a,[]),i["\u0275mpd"](1073742336,n,n,[]),i["\u0275mpd"](1024,y.j,function(){return[[{path:"",component:A}],[{path:"",component:s.a}],[{path:"",component:S.a},{path:":source/filters",component:S.a}],[{path:"",component:s.a}]]},[]),i["\u0275mpd"](256,Re.a,Gt.c,[])])})},"nw/W":function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"b",function(){return s});var i=a("8Y7J"),n=a("O9pe"),r=function(){function t(){this.focusable=!1}return t.decorators=[{type:i.Component,args:[{selector:"ibm-icon-chevron-up16",template:'\n    <svg\n      ibmIconChevronUp16\n      [ariaLabel]="ariaLabel"\n      [ariaLabelledby]="ariaLabelledby"\n      [ariaHidden]="ariaHidden"\n      [title]="title"\n      [isFocusable]="focusable"\n      [attr.class]="innerClass">\n    </svg>\n  '}]}],t.propDecorators={ariaLabel:[{type:i.Input}],ariaLabelledby:[{type:i.Input}],ariaHidden:[{type:i.Input}],title:[{type:i.Input}],focusable:[{type:i.Input}],innerClass:[{type:i.Input}]},t}(),o=function(){function t(t){this.elementRef=t,this.isFocusable=!1}return t.prototype.ngAfterViewInit=function(){var e=this.elementRef.nativeElement;e.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var a=(new DOMParser).parseFromString('<svg focusable="false" preserveAspectRatio="xMidYMid meet" style="will-change: transform;" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" aria-hidden="true"><path d="M8 5l5 5-.7.7L8 6.4l-4.3 4.3L3 10z"></path></svg>',"image/svg+xml").documentElement.firstChild;a;)e.appendChild(e.ownerDocument.importNode(a,!0)),a=a.nextSibling;for(var i=Object(n.a)({width:16,height:16,viewBox:"0 0 16 16",title:this.title,"aria-label":this.ariaLabel,"aria-labelledby":this.ariaLabelledby,"aria-hidden":this.ariaHidden,focusable:this.isFocusable.toString()}),r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],l=i[s];"title"!==s&&l&&e.setAttribute(s,l)}if(i.title){var p=document.createElement("title");p.textContent=i.title,p.setAttribute("id","chevron-up16-"+ ++t.titleIdCounter),e.appendChild(p),e.setAttribute("aria-labelledby","chevron-up16-"+t.titleIdCounter)}},t.titleIdCounter=0,t.decorators=[{type:i.Directive,args:[{selector:"[ibmIconChevronUp16]"}]}],t.ctorParameters=function(){return[{type:i.ElementRef}]},t.propDecorators={ariaLabel:[{type:i.Input}],ariaLabelledby:[{type:i.Input}],ariaHidden:[{type:i.Input}],title:[{type:i.Input}],isFocusable:[{type:i.Input}]},t}(),s=function(){function t(){}return t.decorators=[{type:i.NgModule,args:[{declarations:[r,o],exports:[r,o]}]}],t}()}}]);