(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{gs0n:function(n,e,t){"use strict";t.r(e);var l=t("8Y7J"),a=t("Y7sv"),i=t("sspt");a.M.registerModules([i.a]);class o{}var r=t("pMnS"),d=t("I7CR"),s=t("kNGs"),u=t("eWkc"),c=t("v3aM"),m=t("g7AK"),p=t("fF59"),b=t("BJWQ"),g=t("PybA"),f=t("qHnB"),h=t("aQIf"),v=t("Z725"),y=(t("ciZX"),t("9XGM")),x=t("HXlw"),C=t("FQWp");class w{constructor(n,e,t,l,a){this._settingsService=n,this.dialog=e,this._toaster=t,this.confirmationService=l,this.modalService=a,this.sapIntegrations=null,this.defaultColDef={resizable:!0,sortable:!0,filter:!0,flex:1,minWidth:120},this.getRowStyle=n=>{if(n.node.rowIndex%2!=0)return{background:"#F8F8F8"}},this.columnDefs=[{headerName:"Endpoint Name",wrapText:!0,autoHeight:!0,field:"name",minWidth:300},{headerName:"Endpoint Username",wrapText:!0,field:"username",minWidth:300},{headerName:"Endpoint Url",wrapText:!0,field:"url",minWidth:300},{headerName:"Status",cellRendererSelector:function(n){return{component:"buttonRenderer",params:{value:n.data.isActive?"Enabled":"Disabled",imgUrl:n.data.isActive?"assets/img/checkmark.svg":"assets/img/error.svg"}}},cellRendererParams:{onClick:this.onBtnEnableDisableClick.bind(this)},maxWidth:200,sortable:!1},{headerName:"Edit",sortable:!1,filter:!1,cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.onBtnEditClick.bind(this),label:"",imgUrl:"assets/img/edit.svg"},maxWidth:160},{field:"Refresh",sortable:!1,filter:!1,headerTooltip:"Delete data & reload for current FY",cellRenderer:"buttonRenderer",cellRendererParams:{onClick:this.refreshFullData.bind(this),label:"",imgUrl:"assets/img/reset.svg"},maxWidth:160}],this.frameworkComponents={buttonRenderer:C.a}}onBtnEditClick(n){this.addMoreSAPEndpoint(n,!0,n.rowData)}onBtnEnableDisableClick(n){this.enableDisableEndpoint(n,n.rowData,!n.rowData.isActive)}onGridReady(n){this.gridApi=n.api,this.gridApi.ParentComponent=this,this.gridColumnApi=n.columnApi,this.gridApi.closeToolPanel(),this.getEndpoints(),window.addEventListener("resize",function(){setTimeout(function(){n.api.sizeColumnsToFit()})}),setTimeout(function(){n.api.sizeColumnsToFit()},2e3)}getEndpoints(){this._settingsService.getAllIntegrations().subscribe(n=>{n&&n.success&&(this.sapIntegrations=n.response?n.response:[])},n=>{this.sapIntegrations=[]})}addMoreSAPEndpoint(n,e,t){let l={};e&&(l={name:t.name,id:t._id,url:t.url,username:t.username,password:t.password,isEdit:e,isActive:t.isActive}),this.dialog.open(h.a,{width:"40%",disableClose:!0,panelClass:"custom-modalbox",data:l}).afterClosed().subscribe(n=>{n&&this.getEndpoints()})}enableDisableEndpoint(n,e,t){this.dialog.open(x.a,{width:"40%",disableClose:!0,panelClass:"custom-modalbox",data:{confirmationMessage:`Are you sure you want to ${t?"enable":"disable"} the endpoint?`,cancelBtnText:"Cancel",onOkayText:"Confirm"}}).afterClosed().subscribe(n=>{n&&this._settingsService.modifyIntegration(e._id,{name:e.name,url:e.url,isActive:t}).subscribe(n=>{n&&n.success&&(this._toaster.success(t?"Endpoint enabled successfully.":"Endpoint disabled successfully."),this.getEndpoints())},n=>{this._toaster.error("Error occurred while performing operation.")})})}refreshFullData(n){let e=n.rowData._id;this.fetch=this.confirmationService.getData().subscribe(n=>{n?this._settingsService.refreshFullData(e).subscribe(n=>{this._toaster.success("Full data refresh in process. This will take some time"),this.confirmationService.setData(!1)}):this.fetch&&this.fetch.unsubscribe()}),this.modalService.create({component:y.a,inputs:{modalText:"Are you sure you want to full reload data? It will delete all existing data and load new data for current financial year only"}})}}var R=t("s6ns"),E=t("EApP"),k=t("PJ54"),S=l["\u0275crt"]({encapsulation:0,styles:[['.thirdparty-setings-container[_ngcontent-%COMP%]{padding-left:32px;padding-right:32px;padding-top:2rem;background-color:#fff;height:98%;width:100%;display:flex;flex-direction:column}.thirdparty-setings-container[_ngcontent-%COMP%]   .reset-padding-margin[_ngcontent-%COMP%]{padding:0;margin:0}.thirdparty-setings-container[_ngcontent-%COMP%]   .bx--btn--secondary[_ngcontent-%COMP%]{background-color:#393939;padding-right:12px}.thirdparty-setings-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{margin-bottom:10px}.thirdparty-setings-container[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .bx--search-input[_ngcontent-%COMP%]{background-color:#f3f3f3;height:48px;width:100%;margin-top:30px;color:#8c8c8c;font-family:"IBM Plex Sans";font-size:16px;letter-spacing:.16px;line-height:18px;border-bottom:none}']],data:{}});function _(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,25,"div",[["class","thirdparty-setings-container"]],null,null,null,null,null)),(n()(),l["\u0275eld"](1,0,null,null,10,"ibm-breadcrumb",[],null,null,null,d.b,d.a)),l["\u0275did"](2,1097728,null,1,s.a,[],{noTrailingSlash:[0,"noTrailingSlash"]},null),l["\u0275qud"](603979776,1,{children:1}),(n()(),l["\u0275eld"](4,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,u.b,u.a)),l["\u0275did"](5,49152,[[1,4]],0,c.a,[],null,null),(n()(),l["\u0275eld"](6,0,null,0,1,"h4",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["SAP"])),(n()(),l["\u0275eld"](8,0,null,0,3,"ibm-breadcrumb-item",[],[[2,"bx--breadcrumb-item--current",null],[2,"bx--breadcrumb-item",null]],null,null,u.b,u.a)),l["\u0275did"](9,49152,[[1,4]],0,c.a,[],null,null),(n()(),l["\u0275eld"](10,0,null,0,1,"h4",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Endpoint List"])),(n()(),l["\u0275eld"](12,0,null,null,8,"div",[["class","bx--row reset-padding-margin search-bar"],["style","display: flex;align-items: flex-end;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](13,0,null,null,0,"div",[["style","flex:2;margin-right: 8px;"]],null,null,null,null,null)),(n()(),l["\u0275eld"](14,0,null,null,6,"div",[["class","text-right"]],null,null,null,null,null)),(n()(),l["\u0275eld"](15,0,null,null,5,"button",[["ibmButton","danger"]],[[2,"bx--btn",null],[2,"bx--btn--primary",null],[2,"bx--btn--secondary",null],[2,"bx--btn--tertiary",null],[2,"bx--btn--ghost",null],[2,"bx--btn--danger",null],[2,"bx--btn--danger--primary",null],[2,"bx--skeleton",null],[2,"bx--btn--sm",null],[2,"bx--toolbar-action",null],[2,"bx--overflow-menu",null]],[[null,"click"]],function(n,e,t){var l=!0;return"click"===e&&(l=!1!==n.component.addMoreSAPEndpoint(t,!1)&&l),l},null,null)),l["\u0275did"](16,16384,null,0,m.a,[],{ibmButton:[0,"ibmButton"]},null),(n()(),l["\u0275eld"](17,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),l["\u0275ted"](-1,null,["Add New"])),(n()(),l["\u0275eld"](19,0,null,null,1,":svg:svg",[["class","icon-white"],["ibmIconAdd20",""]],null,null,null,null,null)),l["\u0275did"](20,4210688,null,0,p.a,[l.ElementRef],null,null),(n()(),l["\u0275eld"](21,16777216,null,null,4,"ag-grid-angular",[["class","ag-theme-alpine"],["style","width: 100%; height: 100%;"]],null,[[null,"gridReady"]],function(n,e,t){var l=!0;return"gridReady"===e&&(l=!1!==n.component.onGridReady(t)&&l),l},b.b,b.a)),l["\u0275prd"](512,null,g.e,g.e,[l.NgZone]),l["\u0275prd"](512,null,g.d,g.d,[]),l["\u0275did"](24,4898816,[["agGrid",4]],1,g.a,[l.ElementRef,l.ViewContainerRef,g.e,g.d,l.ComponentFactoryResolver],{rowData:[0,"rowData"],columnDefs:[1,"columnDefs"],frameworkComponents:[2,"frameworkComponents"],defaultColDef:[3,"defaultColDef"],getRowStyle:[4,"getRowStyle"],pagination:[5,"pagination"],paginationAutoPageSize:[6,"paginationAutoPageSize"]},{gridReady:"gridReady"}),l["\u0275qud"](603979776,2,{columns:1})],function(n,e){var t=e.component;n(e,2,0,!0),n(e,16,0,"danger"),n(e,24,0,t.sapIntegrations,t.columnDefs,t.frameworkComponents,t.defaultColDef,t.getRowStyle,!0,!0)},function(n,e){n(e,4,0,l["\u0275nov"](e,5).current,l["\u0275nov"](e,5).itemClass),n(e,8,0,l["\u0275nov"](e,9).current,l["\u0275nov"](e,9).itemClass),n(e,15,1,[l["\u0275nov"](e,16).baseClass,l["\u0275nov"](e,16).primaryButton,l["\u0275nov"](e,16).secondaryButton,l["\u0275nov"](e,16).tertiaryButton,l["\u0275nov"](e,16).ghostButton,l["\u0275nov"](e,16).dangerButton,l["\u0275nov"](e,16).dangerPrimaryButton,l["\u0275nov"](e,16).skeleton,l["\u0275nov"](e,16).smallSize,l["\u0275nov"](e,16).toolbarAction,l["\u0275nov"](e,16).overflowMenu])})}function A(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"app-third-party-settings",[],null,null,null,_,S)),l["\u0275did"](1,49152,null,0,w,[f.a,R.e,E.j,v.a,k.a],null,null)],null,null)}var D=l["\u0275ccf"]("app-third-party-settings",w,A,{},{},[]),M=t("NpSD"),P=t("cbbC"),F=t("Gv0t"),I=t("cN2v"),N=t("I0pH"),T=t("gKtx"),B=t("GRwY"),z=t("P08G"),O=t("t68o"),L=t("brgC"),U=t("W7UG"),G=t("GcOC"),j=t("9lol"),W=t("SVse"),H=t("s7LF"),J=t("mEpm"),q=t("ZHEK"),K=t("RJDq"),Q=t("U6oK"),V=t("i3NF"),X=t("uvqg"),Y=t("f8KH"),Z=t("maoM"),$=t("QQfA"),nn=t("IP0z"),en=t("E4Uz"),tn=t("iInd");class ln{}var an=t("h6sn"),on=t("cbyg"),rn=t("niTG"),dn=t("XBWk"),sn=t("+IpF"),un=t("4UMp"),cn=t("5F/F"),mn=t("+NSx"),pn=t("jPU2"),bn=t("nXcq"),gn=t("P5T4"),fn=t("H+bR"),hn=t("nhzO"),vn=t("UDqP"),yn=t("GMRT"),xn=t("jQIA"),Cn=t("FS8H"),wn=t("kdZC"),Rn=t("eUdb"),En=t("SpJC"),kn=t("IxoR"),Sn=t("0n+N"),_n=t("Lb5T"),An=t("ctAq"),Dn=t("CX5l"),Mn=t("nw/W"),Pn=t("EJfY"),Fn=t("kEMu"),In=t("3ezH"),Nn=t("vjI9"),Tn=t("yKc8"),Bn=t("ezSh"),zn=t("pVHs"),On=t("ixoK"),Ln=t("LuTi"),Un=t("OSGs"),Gn=t("zMNK"),jn=t("/HVE"),Wn=t("hOhj"),Hn=t("Xd0L"),Jn=t("cUpR"),qn=t("4y4f"),Kn=t("Dg3h"),Qn=t("imf+"),Vn=t("h5jA"),Xn=t("9Ntg"),Yn=t("wqUn"),Zn=t("Eaeu"),$n=t("JKVJ"),ne=t("F5Q9");t.d(e,"ThirdPartySettingsModuleNgFactory",function(){return ee});var ee=l["\u0275cmf"](o,[],function(n){return l["\u0275mod"]([l["\u0275mpd"](512,l.ComponentFactoryResolver,l["\u0275CodegenComponentFactoryResolver"],[[8,[r.a,D,M.a,P.a,F.a,I.a,N.a,T.a,B.a,z.a,O.a,L.a,U.a,G.a,j.a]],[3,l.ComponentFactoryResolver],l.NgModuleRef]),l["\u0275mpd"](4608,W.NgLocalization,W.NgLocaleLocalization,[l.LOCALE_ID,[2,W["\u0275angular_packages_common_common_a"]]]),l["\u0275mpd"](4608,H.C,H.C,[]),l["\u0275mpd"](4608,H.f,H.f,[]),l["\u0275mpd"](5120,J.a,q.a,[[3,J.a]]),l["\u0275mpd"](5120,K.a,Q.a,[[3,K.a]]),l["\u0275mpd"](4608,V.a,V.a,[K.a]),l["\u0275mpd"](5120,X.a,Y.a,[[3,X.a]]),l["\u0275mpd"](4608,k.a,k.a,[l.ComponentFactoryResolver,K.a]),l["\u0275mpd"](4608,v.a,v.a,[]),l["\u0275mpd"](4608,Z.a,Z.a,[l.ComponentFactoryResolver,l.Injector,K.a]),l["\u0275mpd"](4608,$.b,$.b,[$.h,$.d,l.ComponentFactoryResolver,$.g,$.e,l.Injector,l.NgZone,W.DOCUMENT,nn.b,[2,W.Location]]),l["\u0275mpd"](5120,$.i,$.j,[$.b]),l["\u0275mpd"](5120,R.c,R.d,[$.b]),l["\u0275mpd"](135680,R.e,R.e,[$.b,l.Injector,[2,W.Location],[2,R.b],R.c,[3,R.e],$.d]),l["\u0275mpd"](4608,en.d,en.d,[]),l["\u0275mpd"](1073742336,W.CommonModule,W.CommonModule,[]),l["\u0275mpd"](1073742336,tn.s,tn.s,[[2,tn.x],[2,tn.o]]),l["\u0275mpd"](1073742336,ln,ln,[]),l["\u0275mpd"](1073742336,H.B,H.B,[]),l["\u0275mpd"](1073742336,H.l,H.l,[]),l["\u0275mpd"](1073742336,H.x,H.x,[]),l["\u0275mpd"](1073742336,an.a,an.a,[]),l["\u0275mpd"](1073742336,q.c,q.c,[]),l["\u0275mpd"](1073742336,on.a,on.a,[]),l["\u0275mpd"](1073742336,rn.c,rn.c,[]),l["\u0275mpd"](1073742336,dn.c,dn.c,[]),l["\u0275mpd"](1073742336,sn.c,sn.c,[]),l["\u0275mpd"](1073742336,un.a,un.a,[]),l["\u0275mpd"](1073742336,cn.a,cn.a,[]),l["\u0275mpd"](1073742336,p.b,p.b,[]),l["\u0275mpd"](1073742336,Q.b,Q.b,[]),l["\u0275mpd"](1073742336,mn.c,mn.c,[]),l["\u0275mpd"](1073742336,pn.a,pn.a,[]),l["\u0275mpd"](1073742336,bn.a,bn.a,[]),l["\u0275mpd"](1073742336,gn.a,gn.a,[]),l["\u0275mpd"](1073742336,fn.a,fn.a,[]),l["\u0275mpd"](1073742336,hn.a,hn.a,[]),l["\u0275mpd"](1073742336,vn.b,vn.b,[]),l["\u0275mpd"](1073742336,yn.b,yn.b,[]),l["\u0275mpd"](1073742336,xn.a,xn.a,[]),l["\u0275mpd"](1073742336,Cn.b,Cn.b,[]),l["\u0275mpd"](1073742336,wn.b,wn.b,[]),l["\u0275mpd"](1073742336,Rn.c,Rn.c,[]),l["\u0275mpd"](1073742336,En.a,En.a,[]),l["\u0275mpd"](1073742336,kn.a,kn.a,[]),l["\u0275mpd"](1073742336,Sn.a,Sn.a,[]),l["\u0275mpd"](1073742336,_n.b,_n.b,[]),l["\u0275mpd"](1073742336,Y.b,Y.b,[]),l["\u0275mpd"](1073742336,An.b,An.b,[]),l["\u0275mpd"](1073742336,Dn.a,Dn.a,[]),l["\u0275mpd"](1073742336,Mn.b,Mn.b,[]),l["\u0275mpd"](1073742336,Pn.a,Pn.a,[]),l["\u0275mpd"](1073742336,Fn.a,Fn.a,[]),l["\u0275mpd"](1073742336,In.a,In.a,[]),l["\u0275mpd"](1073742336,Nn.b,Nn.b,[]),l["\u0275mpd"](1073742336,Tn.a,Tn.a,[]),l["\u0275mpd"](1073742336,Bn.a,Bn.a,[]),l["\u0275mpd"](1073742336,zn.a,zn.a,[]),l["\u0275mpd"](1073742336,On.c,On.c,[]),l["\u0275mpd"](1073742336,Ln.d,Ln.d,[]),l["\u0275mpd"](1073742336,Un.a,Un.a,[]),l["\u0275mpd"](1073742336,nn.a,nn.a,[]),l["\u0275mpd"](1073742336,Gn.f,Gn.f,[]),l["\u0275mpd"](1073742336,jn.b,jn.b,[]),l["\u0275mpd"](1073742336,Wn.b,Wn.b,[]),l["\u0275mpd"](1073742336,$.f,$.f,[]),l["\u0275mpd"](1073742336,Hn.e,Hn.e,[[2,Hn.b],[2,Jn.f]]),l["\u0275mpd"](1073742336,R.k,R.k,[]),l["\u0275mpd"](1073742336,qn.b,qn.b,[]),l["\u0275mpd"](1073742336,Kn.a,Kn.a,[]),l["\u0275mpd"](1073742336,Qn.a,Qn.a,[]),l["\u0275mpd"](1073742336,en.c,en.c,[]),l["\u0275mpd"](1073742336,Vn.c,Vn.c,[]),l["\u0275mpd"](1073742336,Xn.c,Xn.c,[]),l["\u0275mpd"](1073742336,Yn.b,Yn.b,[]),l["\u0275mpd"](1073742336,Zn.b,Zn.b,[]),l["\u0275mpd"](1073742336,$n.b,$n.b,[]),l["\u0275mpd"](1073742336,ne.a,ne.a,[]),l["\u0275mpd"](1073742336,g.c,g.c,[]),l["\u0275mpd"](1073742336,o,o,[]),l["\u0275mpd"](1024,tn.m,function(){return[[{path:"",component:w}]]},[])])})},t68o:function(n,e,t){"use strict";t.d(e,"a",function(){return m});var l=t("8Y7J"),a=t("s6ns"),i=t("SVse"),o=(t("QQfA"),t("IP0z"),t("zMNK")),r=(t("/HVE"),t("hOhj"),t("Xd0L"),t("cUpR"),t("5GAg")),d=l["\u0275crt"]({encapsulation:2,styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}@media (-ms-high-contrast:active){.mat-dialog-container{outline:solid 1px}}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base{margin-left:0;margin-right:8px}"],data:{animation:[{type:7,name:"dialogContainer",definitions:[{type:0,name:"void, exit",styles:{type:6,styles:{opacity:0,transform:"scale(0.7)"},offset:null},options:void 0},{type:0,name:"enter",styles:{type:6,styles:{transform:"none"},offset:null},options:void 0},{type:1,expr:"* => enter",animation:{type:4,styles:{type:6,styles:{transform:"none",opacity:1},offset:null},timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => exit",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 0.2, 1)"},options:null}],options:{}}]}});function s(n){return l["\u0275vid"](0,[(n()(),l["\u0275and"](0,null,null,0))],null,null)}function u(n){return l["\u0275vid"](0,[l["\u0275qud"](402653184,1,{_portalOutlet:0}),(n()(),l["\u0275and"](16777216,null,null,1,null,s)),l["\u0275did"](2,212992,[[1,4]],0,o.b,[l.ComponentFactoryResolver,l.ViewContainerRef],{portal:[0,"portal"]},null)],function(n,e){n(e,2,0,"")},null)}function c(n){return l["\u0275vid"](0,[(n()(),l["\u0275eld"](0,0,null,null,1,"mat-dialog-container",[["aria-modal","true"],["class","mat-dialog-container"],["tabindex","-1"]],[[1,"id",0],[1,"role",0],[1,"aria-labelledby",0],[1,"aria-label",0],[1,"aria-describedby",0],[40,"@dialogContainer",0]],[["component","@dialogContainer.start"],["component","@dialogContainer.done"]],function(n,e,t){var a=!0;return"component:@dialogContainer.start"===e&&(a=!1!==l["\u0275nov"](n,1)._onAnimationStart(t)&&a),"component:@dialogContainer.done"===e&&(a=!1!==l["\u0275nov"](n,1)._onAnimationDone(t)&&a),a},u,d)),l["\u0275did"](1,49152,null,0,a.i,[l.ElementRef,r.f,l.ChangeDetectorRef,[2,i.DOCUMENT],a.h],null,null)],null,function(n,e){n(e,0,0,l["\u0275nov"](e,1)._id,l["\u0275nov"](e,1)._config.role,l["\u0275nov"](e,1)._config.ariaLabel?null:l["\u0275nov"](e,1)._ariaLabelledBy,l["\u0275nov"](e,1)._config.ariaLabel,l["\u0275nov"](e,1)._config.ariaDescribedBy||null,l["\u0275nov"](e,1)._state)})}var m=l["\u0275ccf"]("mat-dialog-container",a.i,c,{},{},[])}}]);